# Исправление проблем с загрузкой изображений

## Проблема
Картинки не отображались или появлялись с запазданием при переходах между страницами:
- Переход с GenderSeasonPage → ProductPage
- Переход с Index → ProductPage  
- Непостоянное отображение изображений

## Решение
Создан единый компонент `ProductImage` для всех страниц с улучшенной логикой загрузки:

### Ключевые улучшения:

1. **Асинхронная валидация изображений**
   - Проверка доступности изображений перед отображением
   - Timeout для избежания зависания (3 сек)
   - Умный fallback на placeholder

2. **Универсальная система путей**
   - Поддержка различных форматов (jpg, jpeg, png, webp)
   - Галерея изображений для ProductPage
   - Обратная совместимость со старой логикой

3. **Оптимизация производительности**
   - Lazy loading
   - Cleanup функций для предотвращения memory leaks
   - Эффективное управление состоянием загрузки

### Файлы изменены:
- ✅ `src/components/ProductImage.tsx` - новый компонент
- ✅ `src/pages/ProductPage.tsx` - упрощена логика изображений  
- ✅ `src/pages/Index.tsx` - использует новый компонент
- ✅ `src/pages/CategoryPage.tsx` - использует новый компонент
- ✅ `src/pages/GenderSeasonPage.tsx` - использует новый компонент
- ✅ `src/pages/GenderPage.tsx` - использует новый компонент

## Тестирование
Теперь изображения должны:
- Загружаться стабильно при переходах между страницами
- Показывать placeholder при отсутствии изображения
- Работать быстрее благодаря preload и timeout

## Использование
Компонент автоматически используется везде где раньше был ProductImage.
Никаких дополнительных действий не требуется.